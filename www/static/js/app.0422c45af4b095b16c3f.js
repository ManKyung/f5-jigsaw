webpackJsonp([1],{C2B5:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return u}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return l});var i=n("OvRC"),o=n.n(i);var r="undefined"!=typeof window?window.console:e.console;var s,a,d=/-(\w)/g,c=(s=function(e){return e.replace(d,function(e,t){return t?t.toUpperCase():""})},a=o()(null),function(e){return a[e]||(a[e]=s(e))});function l(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function u(e,t,n){var i=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,i)}}).call(t,n("DuR2"))},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("Xrl+"),n("fLmE");var i=n("7+uW"),o=n("EOUi"),r=n.n(o),s=n("NYxO");i.a.use(s.a);var a=new s.a.Store({modules:{splitter:{namespaced:!0,state:{open:!1},mutations:{toggle:function(e,t){e.open="boolean"==typeof t?t:!e.open}}}}}),d=n("pFYg"),c=n.n(d),l=n("iCB0"),u=n.n(l),h=n("woOf"),p=n.n(h),f=n("fZjL"),m=n.n(f),g=n("d7EF"),v=n.n(g),b=n("Gu7T"),x=n.n(b),I=n("/dO2"),C=n("C2B5");function w(e,t){var n=this;this.$nextTick(function(){return n.$emit(e.toLowerCase(),t)})}function y(e){return["transition-group","TransitionGroup"].includes(e)}function O(e,t,n){return e[n]||(t[n]?t[n]():void 0)}var $=["Start","Add","Remove","Update","End"],_=["Choose","Unchoose","Sort","Filter","Clone"],P=["Move"].concat($,_).map(function(e){return"on"+e}),M=null,D={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(e){return e}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(e){var t=this.$slots.default;this.transitionMode=function(e){if(!e||1!==e.length)return!1;var t=v()(e,1)[0].componentOptions;return!!t&&y(t.tag)}(t);var n=function(e,t,n){var i=0,o=0,r=O(t,n,"header");r&&(i=r.length,e=e?[].concat(x()(r),x()(e)):[].concat(x()(r)));var s=O(t,n,"footer");return s&&(o=s.length,e=e?[].concat(x()(e),x()(s)):[].concat(x()(s))),{children:e,headerOffset:i,footerOffset:o}}(t,this.$slots,this.$scopedSlots),i=n.children,o=n.headerOffset,r=n.footerOffset;this.headerOffset=o,this.footerOffset=r;var s=function(e,t){var n=null,i=function(e,t){n=function(e,t,n){return void 0===n?e:((e=e||{})[t]=n,e)}(n,e,t)};if(i("attrs",m()(e).filter(function(e){return"id"===e||e.startsWith("data-")}).reduce(function(t,n){return t[n]=e[n],t},{})),!t)return n;var o=t.on,r=t.props,s=t.attrs;return i("on",o),i("props",r),p()(n.attrs,s),n}(this.$attrs,this.componentData);return e(this.getTag(),s,i)},created:function(){null!==this.list&&null!==this.value&&C.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&C.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&C.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var e=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: "+this.getTag());var t={};$.forEach(function(n){t["on"+n]=function(e){var t=this;return function(n){null!==t.realList&&t["onDrag"+e](n),w.call(t,e,n)}}.call(e,n)}),_.forEach(function(n){t["on"+n]=w.bind(e,n)});var n=m()(this.$attrs).reduce(function(t,n){return t[Object(C.a)(n)]=e.$attrs[n],t},{}),i=p()({},this.options,n,t,{onMove:function(t,n){return e.onDragMove(t,n)}});!("draggable"in i)&&(i.draggable=">*"),this._sortable=new I.a(this.rootContainer,i),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(e){this.updateOptions(e)},deep:!0},$attrs:{handler:function(e){this.updateOptions(e)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var e=this._vnode.fnOptions;return e&&e.functional},getTag:function(){return this.tag||this.element},updateOptions:function(e){for(var t in e){var n=Object(C.a)(t);-1===P.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var e=this.$slots.default;return this.transitionMode?e[0].child.$slots.default:e},computeIndexes:function(){var e=this;this.$nextTick(function(){e.visibleIndexes=function(e,t,n,i){if(!e)return[];var o=e.map(function(e){return e.elm}),r=t.length-i,s=[].concat(x()(t)).map(function(e,t){return t>=r?o.length:o.indexOf(e)});return n?s.filter(function(e){return-1!==e}):s}(e.getChildrenNodes(),e.rootContainer.children,e.transitionMode,e.footerOffset)})},getUnderlyingVm:function(e){var t=function(e,t){return e.map(function(e){return e.elm}).indexOf(t)}(this.getChildrenNodes()||[],e);return-1===t?null:{index:t,element:this.realList[t]}},getUnderlyingPotencialDraggableComponent:function(e){var t=e.__vue__;return t&&t.$options&&y(t.$options._componentTag)?t.$parent:!("realList"in t)&&1===t.$children.length&&"realList"in t.$children[0]?t.$children[0]:t},emitChanges:function(e){var t=this;this.$nextTick(function(){t.$emit("change",e)})},alterList:function(e){if(this.list)e(this.list);else{var t=[].concat(x()(this.value));e(t),this.$emit("input",t)}},spliceList:function(){var e=arguments,t=function(t){return t.splice.apply(t,e)};this.alterList(t)},updatePosition:function(e,t){var n=function(n){return n.splice(t,0,n.splice(e,1)[0])};this.alterList(n)},getRelatedContextFromMoveEvent:function(e){var t=e.to,n=e.related,i=this.getUnderlyingPotencialDraggableComponent(t);if(!i)return{component:i};var o=i.realList,r={list:o,component:i};if(t!==n&&o&&i.getUnderlyingVm){var s=i.getUnderlyingVm(n);if(s)return p()(s,r)}return r},getVmIndex:function(e){var t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(e){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[e].data=null;var t=this.getComponent();t.children=[],t.kept=void 0}},onDragStart:function(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),M=e.item},onDragAdd:function(e){var t=e.item._underlying_vm_;if(void 0!==t){Object(C.d)(e.item);var n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();var i={element:t,newIndex:n};this.emitChanges({added:i})}},onDragRemove:function(e){if(Object(C.c)(this.rootContainer,e.item,e.oldIndex),"clone"!==e.pullMode){var t=this.context.index;this.spliceList(t,1);var n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})}else Object(C.d)(e.clone)},onDragUpdate:function(e){Object(C.d)(e.item),Object(C.c)(e.from,e.item,e.oldIndex);var t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);var i={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:i})},updateProperty:function(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},computeFutureIndex:function(e,t){if(!e.element)return 0;var n=[].concat(x()(t.to.children)).filter(function(e){return"none"!==e.style.display}),i=n.indexOf(t.related),o=e.component.getVmIndex(i);return-1!==n.indexOf(M)||!t.willInsertAfter?o:o+1},onDragMove:function(e,t){var n=this.move;if(!n||!this.realList)return!1;var i=this.getRelatedContextFromMoveEvent(e),o=this.context,r=this.computeFutureIndex(i,e);return p()(o,{futureIndex:r}),n(p()({},e,{relatedContext:i,draggedContext:o}),t)},onDragEnd:function(){this.computeIndexes(),M=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",D);var L={name:"play",components:{draggable:D},data:function(){return{dImage:u.a,pieceItems:[],boardItems:[],realBoardItems:[],selectedPiece:{},pieceNumber:4,pWidth:0,pHeight:0,boardHeight:0,moveIndex:0,moveItem:{},actionSheetVisible:!1,list1:[{name:"John",id:1},{name:"Joao",id:2},{name:"Jean",id:3},{name:"Gerard",id:4}],list2:[{name:"Juan",id:5},{name:"Edgard",id:6},{name:"Johnson",id:7}]}},mounted:function(){var e=this;setTimeout(function(){e.setBoard(),e.setPieceItem(),document.body._gestureDetector.dispose()},10)},methods:{objClone:function(e){if(null===e||"object"!==(void 0===e?"undefined":c()(e)))return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},boardChoose:function(e){this.selectedPiece=this.realBoardItems[e.oldIndex],console.log("boardChoose",this.selectedPiece)},boardAdd:function(e){console.log("add",this.selectedPiece),this.$set(this.realBoardItems,e.newIndex,this.selectedPiece),this.boardItems=this.objClone(this.realBoardItems)},boardUpdate:function(e){console.log("boardUpdate",e),this.$set(this.realBoardItems,e.newIndex,this.selectedPiece),this.$set(this.realBoardItems,e.oldIndex,{}),this.boardItems=this.objClone(this.realBoardItems)},pieceChoose:function(e){this.selectedPiece=this.pieceItems[e.oldIndex],console.log("pieceChoose",this.selectedPiece)},pieceAdd:function(e){this.$set(this.pieceItems,e.newIndex,this.selectedPiece),this.$set(this.realBoardItems,e.oldIndex,{}),this.boardItems=this.objClone(this.realBoardItems),console.log("pieceAdd",this.selectedPiece)},pieceUpdate:function(e){},checkMove:function(e){},previewImage:function(){},setBoard:function(){this.perviewImage=this.$refs.preview,this.pWidth=this.perviewImage.clientWidth/this.pieceNumber,this.pHeight=this.perviewImage.clientHeight/this.pieceNumber,this.boardHeight=this.perviewImage.clientHeight;for(var e=0;e<this.pieceNumber*this.pieceNumber;e++)this.realBoardItems.push({}),this.boardItems.push({})},setPieceItem:function(){for(var e=[],t=0;t<this.pieceNumber;t++)for(var n=0;n<this.pieceNumber;n++){var i={class:"piece-item"};i.style="width: "+this.pWidth+"px; height: "+this.pHeight+"px; background: url("+u.a+"); background-size:"+this.perviewImage.clientWidth+"px "+this.perviewImage.clientHeight+"px; background-position: -"+n*this.pWidth+"px -"+t*this.pHeight+"px;",e.push(i)}this.pieceItems=e}}},B={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-ons-page",[n("v-ons-toolbar",{staticClass:"primary"},[n("div",{staticClass:"center white--text"},[e._v("JigSaw Puzzle")]),e._v(" "),n("div",{staticClass:"right"},[n("v-ons-toolbar-button",{on:{click:function(t){e.actionSheetVisible=!0}}},[n("v-ons-icon",{staticClass:"white--text",attrs:{icon:"md-image-o"}})],1)],1)]),e._v(" "),n("img",{ref:"preview",staticClass:"w-100",attrs:{src:e.dImage}}),e._v(" "),n("div",{style:"position:absolute; max-height:"+e.boardHeight+"px; overflow:hidden",attrs:{id:"board-real"}},e._l(e.realBoardItems,function(t,i){return n("div",{key:i,style:"width: "+e.pWidth+"px; height:"+e.pHeight+"px",attrs:{"board-id":""+i}},[n("div",{style:t.style,attrs:{id:t.id}})])}),0),e._v(" "),n("draggable",{ref:"board",style:"opacity:0.1; max-height:"+e.boardHeight+"px; overflow:hidden;",attrs:{id:"board",group:"board",list:e.boardItems,move:e.checkMove},on:{add:e.boardAdd,choose:e.boardChoose,update:e.boardUpdate}},e._l(e.boardItems,function(t,i){return n("div",{key:i,style:"width: "+e.pWidth+"px; height:"+e.pHeight+"px",attrs:{"board-id":""+i}},[n("div",{style:t.style,attrs:{id:t.id}})])}),0),e._v(" "),n("draggable",{attrs:{id:"board-piece",group:"board",list:e.pieceItems,move:e.checkMove},on:{add:e.pieceAdd,choose:e.pieceChoose,update:e.pieceUpdate}},e._l(e.pieceItems,function(e,t){return n("div",{key:t,staticClass:"piece-item"},[n("div",{style:e.style,attrs:{id:""+t}})])}),0)],1)},staticRenderFns:[]};var E=n("VU/8")(L,B,!1,function(e){n("hibE")},null,null).exports;n("n4oI");i.a.config.productionTip=!1,i.a.use(r.a),new i.a({el:"#app",store:a,template:"<App/>",components:{App:E}})},"Xrl+":function(e,t){},fLmE:function(e,t){},hibE:function(e,t){},iCB0:function(e,t,n){e.exports=n.p+"static/img/3.cac3243.jpg"},n4oI:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.0422c45af4b095b16c3f.js.map